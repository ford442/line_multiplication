<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visual Line Multiplication</title>
  </head>
  <body>
    <aside class="sidebar">
      <header>
        <h1>Visual Multiplication</h1>
        <p class="subtitle">The "Japanese" Line Method</p>
      </header>

      <section class="intro">
        <p>
          Forget calculators. Multiply numbers just by drawing lines and counting dots.
          It's satisfying, visual, and mathematically beautiful.
        </p>
      </section>

      <div class="card instruction-box">
        <h3>How it Works</h3>
        <ol>
          <li>
            <strong>Draw the First Number:</strong>
            Convert digits into parallel lines (Blue).
            <br><em>Example: "12" = 1 line, a gap, then 2 lines.</em>
          </li>
          <li>
            <strong>Draw the Second:</strong>
            Cross them with lines for the second number (Green).
          </li>
          <li>
            <strong>Count the Dots:</strong>
            Group the intersections vertically.
            <br>Right group = Ones place.
            <br>Middle group = Tens place.
            <br>Left group = Hundreds place.
          </li>
        </ol>
      </div>

      <div class="card math-box">
        <h3>Why does it work?</h3>
        <p>It's not magicâ€”it's the <strong>Distributive Property</strong> in disguise!</p>
        <p>
          When you cross lines for $12 \times 3$, you are actually calculating:
          <br>
          $(10 + 2) \times 3 = (10 \times 3) + (2 \times 3)$
        </p>
        <p>The visual groups separate the <strong>Tens</strong> from the <strong>Ones</strong> automatically.</p>
      </div>

      <svg id="demo-svg" viewBox="0 0 240 160">
        <g class="step-1-blue">
          <line x1="40" y1="20" x2="100" y2="140" stroke="#646cff" stroke-width="3" stroke-linecap="round" />

          <line x1="80" y1="20" x2="140" y2="140" stroke="#646cff" stroke-width="3" stroke-linecap="round" />
          <line x1="95" y1="20" x2="155" y2="140" stroke="#646cff" stroke-width="3" stroke-linecap="round" />
        </g>

        <g class="step-2-green">
          <line x1="20" y1="100" x2="200" y2="40" stroke="#4ec9b0" stroke-width="3" stroke-linecap="round" />
          <line x1="20" y1="115" x2="200" y2="55" stroke="#4ec9b0" stroke-width="3" stroke-linecap="round" />
          <line x1="20" y1="130" x2="200" y2="70" stroke="#4ec9b0" stroke-width="3" stroke-linecap="round" />
        </g>

        <g class="step-3-dots">
          <g class="dots-tens">
            <circle cx="68" cy="85" r="4" fill="white" />
            <circle cx="75" cy="98" r="4" fill="white" />
            <circle cx="82" cy="111" r="4" fill="white" />
          </g>
          <g class="dots-ones">
            <circle cx="110" cy="70" r="4" fill="white" />
            <circle cx="117" cy="83" r="4" fill="white" />
            <circle cx="124" cy="96" r="4" fill="white" />

            <circle cx="125" cy="65" r="4" fill="white" />
            <circle cx="132" cy="78" r="4" fill="white" />
            <circle cx="139" cy="91" r="4" fill="white" />
          </g>
        </g>

        <g class="step-4-zones">
          <ellipse cx="75" cy="100" rx="25" ry="35" fill="rgba(100, 108, 255, 0.2)" stroke="#646cff" stroke-dasharray="4" />
          <text x="75" y="150" fill="#646cff" font-size="10" text-anchor="middle" font-weight="bold">3 Tens (30)</text>

          <ellipse cx="125" cy="80" rx="30" ry="40" fill="rgba(78, 201, 176, 0.2)" stroke="#4ec9b0" stroke-dasharray="4" />
          <text x="170" y="85" fill="#4ec9b0" font-size="10" text-anchor="start" font-weight="bold">6 Ones (6)</text>

          <text x="200" y="150" fill="white" font-size="14" text-anchor="end" font-weight="bold">= 36</text>
        </g>
      </svg>

      <div class="controls-section">
        <h3>Try it Yourself</h3>
        <div class="control-group">
          <label for="num-a">Blue Lines (First Number)</label>
          <div class="input-row">
            <input type="number" id="num-a" min="1" max="9999" value="12" class="num-input" style="border-color: #646cff;" />
          </div>
        </div>
        <div class="control-group">
          <label for="num-b">Green Lines (Second Number)</label>
          <div class="input-row">
            <input type="number" id="num-b" min="1" max="9999" value="3" class="num-input" style="border-color: #4ec9b0;" />
          </div>
        </div>
        <div class="result-box">
             <span class="result-label">Result:</span>
             <span id="result-display" class="result-value">36</span>
        </div>
      </div>

      <section class="trivia">
        <h4>Did you know?</h4>
        <p>
          Despite the name, this method isn't standard in Japanese schools!
          It's a visual trick often shared online, similar to the "Chinese Stick Method" or "Vedic Math."
        </p>
      </section>

    </aside>

    <main class="main-stage">
      <canvas id="canvas"></canvas>
      <div id="overlay"></div>
    </main>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>